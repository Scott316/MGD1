<!DOCTYPE html>
<html>
<head>
    <title>Page Title</title>
</head>
<body>
    <canvas id="canvasForTheGame"></canvas>
    <script>
	var requestAnimationFrame = window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || window.msRequestAnimationFrame;
	window.requestAnimationFrame = requestAnimationFrame;

	var canvas = document.getElementById("canvasForTheGame");
	var width = 500;
	var height = 200;
	var ctx = canvas.getContext("2d");
	var player = {
		x: width / 2,
		y: height - 15,
		width: 5,
		height: 5,
		velX: 0,
		velY: 0
	};
	var keys = [];
	var friction = 0.8;

	canvas.width = width;
	canvas.height = height;

	window.addEventListener("load", function () {
		update();
	});

		function update() {
            if (keys[40]) {
                // top arrow
                player.velY++;
            }
            if (keys[38]) {
                // right arrow
                player.velY--;
            }
            if (keys[39]) {
                // right arrow
                player.velX++;
            }
            if (keys[37]) {
                // left arrow
                player.velX--;
            }

            player.velX *= friction;
            player.velY *= friction;
            player.x += player.velX;
            player.y += player.velY;

            ctx.clearRect(0, 0, width, height);
            ctx.fillStyle = "black";
            ctx.beginPath();
            ctx.fill();
            ctx.fillStyle = "red";
            ctx.fillRect(player.x, player.y, player.width, player.height);

            requestAnimationFrame(update);

	}

        document.body.addEventListener("keydown", function (e) {
            keys[e.keyCode] = true;
        });

        document.body.addEventListener("keyup", function (e) {
            keys[e.keyCode] = false;
        });


    </script>

</body>
</html>
